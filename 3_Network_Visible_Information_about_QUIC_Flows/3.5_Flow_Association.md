---
title: "3.5. 流的关联"
anchor: "3.5_Flow_Association"
weight: 350
rank: "h2"
---

The QUIC connection ID (see Section 2.6) is designed to allow a coordinating on-path device, such as a load balancer, to associate two flows when one of the endpoints changes address. This change can be due to NAT rebinding or address migration.

The connection ID must change upon intentional address change by an endpoint and connection ID negotiation is encrypted; therefore, it is not possible for a passive observer to link intended changes of address using the connection ID.

When one endpoint's address unintentionally changes, as is the case with NAT rebinding, an on-path observer may be able to use the connection ID to associate the flow on the new address with the flow on the old address.

A network function that attempts to use the connection ID to associate flows must be robust to the failure of this technique. Since the connection ID may change multiple times during the lifetime of a connection, packets with the same 5-tuple but different connection IDs might or might not belong to the same connection. Likewise, packets with the same connection ID but different 5-tuples might not belong to the same connection either.

Connection IDs should be treated as opaque; see Section 4.4 for caveats regarding connection ID selection at servers.
